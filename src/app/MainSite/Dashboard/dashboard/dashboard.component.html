<div class="sign-in-area pb-70">
	<br>
	<div class="container">
		<h3>Dashboard</h3>
		<p>Welcome to YourSensei Program</p>
		<p style="text-align: center;background: #ddd;padding: 10px;margin-bottom: 50px;">YOUR TOTAL CI CREDITS <span 
				style="border: 1px solid #ccc; padding: 10px;">{{totalcredit}}</span></p>



		<div class="piramid-container">
			<div class="pyramid-wrap">
				<div id="pyramid-panel">
					<ul>
						<li *ngFor="let belt of data.listOfBelt;let i=index">
							<div class="color">
								<a class="active-con" *ngIf="youarehere == i && !ismentor">you are here</a>
								<p class="left-p" style="margin-top: -14px;" *ngIf="!ismentor">
									{{belt.projectedDate.split(' ')[0]}} {{belt.projectedDate.split(' ')[1] | date:'MMM, yyyy'}}
									<br>
									{{belt.projectedDate.split(' ')[2]}} {{belt.projectedDate.split(' ')[3] | date:'MMM, yyyy'}}
								</p>
								<span style="max-height: 40px;" [ngStyle]="{'background': belt.beltColor,  'width': beltwidth[i]+'px'}">{{belt.beltName}}</span>
								<p class="right-p">{{belt.totalCredit}}
								<p style="cursor: pointer;"
									matTooltip="{{belt.totalCredit}} Credits + {{belt.totalA3}} A3 + {{belt.totalKaizen}} Kaizen">
									credits + more</p>
							</div>
						</li>

					</ul>
				</div>

			</div>

		</div>
		<p *ngIf="youarehere!=-1 && !ismentor && data.creditwant" style="text-align: left;margin-bottom: 50px;font-weight: bold;background: #ddd;margin-top: 10px;padding: 10px;">Only <span
				*ngIf="data.creditwant > 0">{{data.creditwant}}
				credits </span>
				<span *ngIf="data.creditwant > 0 && data.a3want>0">and</span><span
				*ngIf="data.a3want>0"> {{data.a3want}} A3 </span>
			<span *ngIf="(data.a3want > 0 && data.kaizenwant>0) || (data.creditwant > 0 && data.kaizenwant>0)">and</span>
			<span *ngIf="data.kaizenwant>0"> {{data.kaizenwant}} Kaizen</span>
			required for your {{data.listOfBelt[youarehere].beltName}} -good luck!
		</p>
	</div>
</div>
<br>
<div class="container" style="margin-top: -100px;">
	<h5>Last Week's CI Belt and Credits Standings: </h5>
	<br>
	<div class="row mb-3">
		<div class="search-div col-sm-12">
			<div class="row">
				<div class="col-sm-12">
					<mat-form-field appearance="none" floatLabel="never" class="search-form-field form-control">
						<input matInput [(ngModel)]="searchKey" placeholder="Search" autocomplete="off"
							(keyup)="applyFilter()">
						<button (click)="cleartext()" *ngIf="searchKey" matSuffix mat-icon-button aria-label="Clear">
							<mat-icon>close</mat-icon>
						</button>
					</mat-form-field>
				</div>
			</div>
		</div>

	</div>
	<table class="tb-r" mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8">

		<ng-container matColumnDef="employeeName">
			<th mat-header-cell *matHeaderCellDef mat-sort-header style="font-weight: bolder;"> Name </th>
			<td mat-cell *matCellDef="let element"> {{element.employeeName}} </td>
		</ng-container>

		<!-- Name Column -->
		<ng-container matColumnDef="mentorName" *ngIf="!ismentor">
			<th mat-header-cell *matHeaderCellDef mat-sort-header style="font-weight: bolder;"> Sensei </th>
			<td mat-cell *matCellDef="let element"> {{element.mentorName}}</td>
		</ng-container>
		<ng-container matColumnDef="mentorName" *ngIf="ismentor">
			<th mat-header-cell *matHeaderCellDef mat-sort-header style="font-weight: bolder; display: none; "> Sensei </th>
			<td mat-cell *matCellDef="let element" style="display: none;"> {{element.mentorName}}</td>
		</ng-container>

		<!-- Name Column -->
		<ng-container matColumnDef="belt">
			<th mat-header-cell *matHeaderCellDef mat-sort-header style="font-weight: bolder; "> Belt </th>
			<td mat-cell *matCellDef="let element"><div style="text-align: center; font-size: 23px;"><span class="icon-red" *ngIf="element.beltName !=''"  [ngStyle]="{'color': element.beltColor}" matTooltip="{{element.beltName}}"></span></div></td>
			<!-- <td mat-cell *matCellDef="let element" [ngStyle]="{'background': element.beltColor}" style="color: white;text-shadow: 0px 0px 6px black;text-align: center;">{{element.beltName}}</td> -->
		</ng-container>


		<ng-container matColumnDef="ciCredits">
			<th mat-header-cell *matHeaderCellDef mat-sort-header style="font-weight: bolder;"> CI Credits </th>
			<td mat-cell *matCellDef="let element">{{element.ciCredits}} </td>
		</ng-container>

		<!-- Name Column -->
		<ng-container matColumnDef="cilastweek">
			<th mat-header-cell *matHeaderCellDef mat-sort-header style="font-weight: bolder; "> Credits L/Wk </th>
			<td mat-cell *matCellDef="let element">{{element.ciLastWeek}}</td>
		</ng-container>


		<ng-container matColumnDef="dollarImpacted">
			<th mat-header-cell *matHeaderCellDef mat-sort-header style="font-weight: bolder;"> $ Impact </th>
			<td mat-cell *matCellDef="let element"> {{element.dollarImpacted}} </td>
		</ng-container>
		<tr class="bg-y" mat-header-row *matHeaderRowDef="displayedColumns"></tr>
		<tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

	</table>
	<mat-paginator [pageSizeOptions]="[25,50,100,150]" [pageSize]="25" showFirstLastButtons></mat-paginator>
</div>